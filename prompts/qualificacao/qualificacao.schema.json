{
    "name": "Qualificacao",
    "strict": true,
    "schema": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "QualificacaoSchema",
        "type": "object",
        "description": "Representa, em JSON, o resultado da extração e validação de dados pessoais e documentais de todos os indivíduos encontrados nos arquivos enviados ao assistente cartorial.",
        "additionalProperties": false,
        "required": [
            "qualificacao",
            "resposta_processamento_markdown"
        ],
        "properties": {
            "qualificacao": {
                "type": "array",
                "description": "Lista de pessoas extraídas (uma posição por pessoa). Cada item contém todo o conjunto de dados identificado dessa pessoa.",
                "items": {
                    "$ref": "#/definitions/RegistroPessoa"
                }
            },
            "resposta_processamento_markdown": {
                "type": "string",
                "description": "Relatório em Markdown contendo obrigatoriamente as seções **RESUMO**, **DADOS EXTRAÍDOS** e **VALIDAÇÕES REALIZADAS**, seguindo as orientações do prompt."
            }
        },
        "definitions": {
            "RegistroPessoa": {
                "type": "object",
                "description": "Bloco completo de informações de uma única pessoa, reunindo dados pessoais, documentos, endereço, certidões de nascimento, casamento e pacto antenupcial.",
                "additionalProperties": false,
                "required": [
                    "informacoes_pessoais",
                    "documentos_identificacao",
                    "endereco_residencial",
                    "informacoes_nascimento",
                    "informacoes_conjuge"
                ],
                "properties": {
                    "informacoes_pessoais": {
                        "$ref": "#/definitions/InformacoesPessoais"
                    },
                    "documentos_identificacao": {
                        "type": "array",
                        "description": "Todos os documentos oficiais de identificação coletados para a pessoa (RG, CNH, Passaporte etc.).",
                        "items": {
                            "$ref": "#/definitions/DocumentoIdentificacao"
                        }
                    },
                    "endereco_residencial": {
                        "$ref": "#/definitions/Endereco"
                    },
                    "informacoes_nascimento": {
                        "$ref": "#/definitions/InformacoesNascimento"
                    },
                    "informacoes_conjuge": {
                        "$ref": "#/definitions/InformacoesConjuge"
                    }
                }
            },
            "InformacoesPessoais": {
                "type": "object",
                "description": "Informações essenciais sobre a pessoa, normalmente vindas de RG, CNH, passaporte ou certidões.",
                "additionalProperties": false,
                "required": [
                    "cpf",
                    "nome",
                    "sexo",
                    "estado_civil",
                    "data_nascimento",
                    "nacionalidade",
                    "naturalidade",
                    "profissao",
                    "pai",
                    "mae"
                ],
                "properties": {
                    "cpf": {
                        "type": "string",
                        "description": "Número do CPF já formatado (###.###.###-##). Caso não conste, deixe string vazia.",
                        "pattern": "^(\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2})?$"
                    },
                    "nome": {
                        "type": "string",
                        "description": "Nome completo exatamente como grafado no documento-fonte."
                    },
                    "sexo": {
                        "type": "string",
                        "description": "Sexo declarado no documento. Utilize apenas valores realmente presentes (ex.: MASCULINO, FEMININO); não há lista fixa – siga os critérios definidos no prompt."
                    },
                    "estado_civil": {
                        "type": "string",
                        "description": "Estado civil apurado conforme todos os documentos analisados. Use exclusivamente os valores definidos nos critérios do prompt."
                    },
                    "data_nascimento": {
                        "type": "string",
                        "description": "Data de nascimento em formato ISO YYYY-MM-DD.",
                        "pattern": "^\\d{4}-\\d{2}-\\d{2}$|^$"
                    },
                    "nacionalidade": {
                        "type": "string",
                        "description": "Nacionalidade declarada (ex.: brasileiro, uruguaio, português)."
                    },
                    "naturalidade": {
                        "type": "object",
                        "description": "Município e UF de origem segundo a certidão de nascimento.",
                        "additionalProperties": false,
                        "required": [
                            "cidade",
                            "uf"
                        ],
                        "properties": {
                            "cidade": {
                                "type": "string",
                                "description": "Cidade de nascimento."
                            },
                            "uf": {
                                "type": "string",
                                "description": "UF (sigla de 2 letras).",
                                "pattern": "^[A-Z]{2}$|^$"
                            }
                        }
                    },
                    "profissao": {
                        "type": "string",
                        "description": "Profissão exatamente como consta no documento analisado."
                    },
                    "pai": {
                        "type": "string",
                        "description": "Nome completo do pai (conforme certidão de nascimento)."
                    },
                    "mae": {
                        "type": "string",
                        "description": "Nome completo da mãe (conforme certidão de nascimento)."
                    }
                }
            },
            "DocumentoIdentificacao": {
                "type": "object",
                "description": "Cada entrada representa um documento oficial usado para identificar a pessoa (RG, CNH, Passaporte, etc.).",
                "additionalProperties": false,
                "required": [
                    "tipo",
                    "numero",
                    "orgao",
                    "data_expedicao",
                    "data_vencimento",
                    "uf"
                ],
                "properties": {
                    "tipo": {
                        "type": "string",
                        "description": "Sigla do tipo de documento (ex.: RG, CNH, PASS, OAB). Deve obedecer à lista e às regras dos critérios de documentos do prompt."
                    },
                    "numero": {
                        "type": "string",
                        "description": "Número do documento exatamente como escrito, sem máscaras extras."
                    },
                    "orgao": {
                        "type": "string",
                        "description": "Órgão emissor abreviado (ex.: SSP, DETRAN-RS). Siga as regras específicas do prompt para RG."
                    },
                    "data_expedicao": {
                        "type": "string",
                        "description": "Data de emissão em formato YYYY-MM-DD (deixe vazio se ausente).",
                        "pattern": "^\\d{4}-\\d{2}-\\d{2}$|^$"
                    },
                    "data_vencimento": {
                        "type": "string",
                        "description": "Data de validade em formato YYYY-MM-DD (RG geralmente vazio).",
                        "pattern": "^\\d{4}-\\d{2}-\\d{2}$|^$"
                    },
                    "uf": {
                        "type": "string",
                        "description": "UF emissora do documento.",
                        "pattern": "^[A-Z]{2}$|^$"
                    }
                }
            },
            "Endereco": {
                "type": "object",
                "description": "Endereço confirmado por comprovante de residência (conta de luz, água, internet, gás, etc.).",
                "additionalProperties": false,
                "required": [
                    "cep",
                    "logradouro",
                    "numero",
                    "complemento",
                    "bairro",
                    "cidade",
                    "uf",
                    "pais"
                ],
                "properties": {
                    "cep": {
                        "type": "string",
                        "description": "CEP brasileiro (#####-###).",
                        "pattern": "^(\\d{5}-?\\d{3})?$"
                    },
                    "logradouro": {
                        "type": "string",
                        "description": "Nome da rua ou avenida."
                    },
                    "numero": {
                        "type": "string",
                        "description": "Número do imóvel."
                    },
                    "complemento": {
                        "type": "string",
                        "description": "Complemento (apto, bloco, sala)."
                    },
                    "bairro": {
                        "type": "string",
                        "description": "Bairro ou distrito."
                    },
                    "cidade": {
                        "type": "string",
                        "description": "Município."
                    },
                    "uf": {
                        "type": "string",
                        "description": "UF do endereço.",
                        "pattern": "^[A-Z]{2}$|^$"
                    },
                    "pais": {
                        "type": "string",
                        "description": "País (ex.: BRASIL)."
                    }
                }
            },
            "InformacoesNascimento": {
                "type": "object",
                "description": "Elementos principais extraídos da certidão de nascimento.",
                "additionalProperties": false,
                "required": [
                    "numero_certidao",
                    "livro",
                    "folha",
                    "cidade_registro",
                    "uf_registro",
                    "data_certidao"
                ],
                "properties": {
                    "numero_certidao": {
                        "type": "string",
                        "description": "Número do assento/certidão."
                    },
                    "livro": {
                        "type": "string",
                        "description": "Livro onde o registro foi lavrado."
                    },
                    "folha": {
                        "type": "string",
                        "description": "Folha do livro."
                    },
                    "cidade_registro": {
                        "type": "string",
                        "description": "Município do cartório."
                    },
                    "uf_registro": {
                        "type": "string",
                        "description": "UF do cartório.",
                        "pattern": "^[A-Z]{2}$|^$"
                    },
                    "data_certidao": {
                        "type": "string",
                        "description": "Data da certidão (normalmente igual à data do nascimento) em YYYY-MM-DD.",
                        "pattern": "^\\d{4}-\\d{2}-\\d{2}$|^$"
                    }
                }
            },
            "InformacoesConjuge": {
                "type": "object",
                "description": "Dados extraídos sobre o cônjuge e sobre o casamento/pacto antenupcial da pessoa principal.",
                "additionalProperties": false,
                "required": [
                    "cpf_conjuge",
                    "nome_conjuge",
                    "informacoes_casamento",
                    "pacto_antenupcial"
                ],
                "properties": {
                    "cpf_conjuge": {
                        "type": "string",
                        "description": "CPF do cônjuge (###.###.###-## ou vazio).",
                        "pattern": "^(\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2})?$"
                    },
                    "nome_conjuge": {
                        "type": "string",
                        "description": "Nome completo do cônjuge."
                    },
                    "informacoes_casamento": {
                        "$ref": "#/definitions/InformacoesCasamento"
                    },
                    "pacto_antenupcial": {
                        "$ref": "#/definitions/PactoAntenupcial"
                    }
                }
            },
            "InformacoesCasamento": {
                "type": "object",
                "description": "Dados extraídos da certidão de casamento.",
                "additionalProperties": false,
                "required": [
                    "regime_bens",
                    "data_casamento",
                    "data_atualizacao",
                    "numero_certidao_casamento",
                    "data_certidao_casamento",
                    "livro_certidao_casamento",
                    "folha_certidao_casamento",
                    "cidade_registro_civil",
                    "uf_registro_civil"
                ],
                "properties": {
                    "regime_bens": {
                        "type": "string",
                        "description": "Regime de bens adotado."
                    },
                    "data_casamento": {
                        "type": "string",
                        "description": "Data da celebração do casamento (YYYY-MM-DD).",
                        "pattern": "^\\d{4}-\\d{2}-\\d{2}$|^$"
                    },
                    "data_atualizacao": {
                        "type": "string",
                        "description": "Data da última averbação/atualização do registro (se houver) em YYYY-MM-DD.",
                        "pattern": "^\\d{4}-\\d{2}-\\d{2}$|^$"
                    },
                    "numero_certidao_casamento": {
                        "type": "string",
                        "description": "Número da certidão de casamento."
                    },
                    "data_certidao_casamento": {
                        "type": "string",
                        "description": "Data em que a certidão foi emitida (YYYY-MM-DD).",
                        "pattern": "^\\d{4}-\\d{2}-\\d{2}$|^$"
                    },
                    "livro_certidao_casamento": {
                        "type": "string",
                        "description": "Livro do registro."
                    },
                    "folha_certidao_casamento": {
                        "type": "string",
                        "description": "Folha do registro."
                    },
                    "cidade_registro_civil": {
                        "type": "string",
                        "description": "Cidade do cartório."
                    },
                    "uf_registro_civil": {
                        "type": "string",
                        "description": "UF do cartório.",
                        "pattern": "^[A-Z]{2}$|^$"
                    }
                }
            },
            "PactoAntenupcial": {
                "type": "object",
                "description": "Conjunto de dados referentes à escritura pública (tabelionato) e ao respectivo registro de imóveis do pacto antenupcial.",
                "additionalProperties": false,
                "required": [
                    "dados_tabelionato",
                    "dados_registro_imoveis"
                ],
                "properties": {
                    "dados_tabelionato": {
                        "$ref": "#/definitions/DadosPactoTabelionato"
                    },
                    "dados_registro_imoveis": {
                        "$ref": "#/definitions/DadosPactoRegistro"
                    }
                }
            },
            "DadosPactoTabelionato": {
                "type": "object",
                "description": "Informações da escritura pública de pacto antenupcial lavrada em tabelionato.",
                "additionalProperties": false,
                "required": [
                    "livro_escritura_pacto_antenupcial",
                    "folha_escritura_pacto_antenupcial",
                    "cidade_tabelionato",
                    "uf_tabelionato",
                    "data_escritura_pacto_antenupcial"
                ],
                "properties": {
                    "livro_escritura_pacto_antenupcial": {
                        "type": "string",
                        "description": "Livro onde a escritura foi lavrada."
                    },
                    "folha_escritura_pacto_antenupcial": {
                        "type": "string",
                        "description": "Folha correspondente."
                    },
                    "cidade_tabelionato": {
                        "type": "string",
                        "description": "Cidade do tabelionato."
                    },
                    "uf_tabelionato": {
                        "type": "string",
                        "description": "UF do tabelionato.",
                        "pattern": "^[A-Z]{2}$|^$"
                    },
                    "data_escritura_pacto_antenupcial": {
                        "type": "string",
                        "description": "Data da escritura (YYYY-MM-DD).",
                        "pattern": "^\\d{4}-\\d{2}-\\d{2}$|^$"
                    }
                }
            },
            "DadosPactoRegistro": {
                "type": "object",
                "description": "Informações do registro do pacto antenupcial no Registro de Imóveis.",
                "additionalProperties": false,
                "required": [
                    "numero_registro_pacto_antenupcial",
                    "livro_registro_pacto_antenupcial",
                    "cidade_registro",
                    "uf_registro",
                    "data_registro_pacto_antenupcial"
                ],
                "properties": {
                    "numero_registro_pacto_antenupcial": {
                        "type": "string",
                        "description": "Número do registro do pacto."
                    },
                    "livro_registro_pacto_antenupcial": {
                        "type": "string",
                        "description": "Livro em que o registro foi lançado."
                    },
                    "cidade_registro": {
                        "type": "string",
                        "description": "Cidade do cartório de imóveis."
                    },
                    "uf_registro": {
                        "type": "string",
                        "description": "UF do cartório de imóveis.",
                        "pattern": "^[A-Z]{2}$|^$"
                    },
                    "data_registro_pacto_antenupcial": {
                        "type": "string",
                        "description": "Data do registro (YYYY-MM-DD).",
                        "pattern": "^\\d{4}-\\d{2}-\\d{2}$|^$"
                    }
                }
            }
        }
    }
}